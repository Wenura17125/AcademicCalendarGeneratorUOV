(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4739:(e,t,a)=>{Promise.resolve().then(a.bind(a,9819))},9819:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ec});var s=a(5155),r=a(2115),n=a(714),i=a(3008),l=a(5118);function d(e){switch(e.type){case"lecture":default:return"#ffffff";case"orientation":return"#ffff00";case"deadWeek":return"#ff6600";case"exam":return"#3366ff";case"examEnd":return"#ff0000";case"vacation":return"#ccffcc";case"industrialTraining":return"#b2a1c7";case"graduation":return"#ff00ff"}}function o(e){switch(e.type){case"exam":case"examEnd":return"#ffffff";default:return"#000000"}}function c(e){switch(e.type){case"lecture":return"L".concat(e.semesterNumber,", S").concat(e.semesterNumber," - ").concat(e.weekNumber);case"orientation":return"Orientation";case"deadWeek":case"exam":case"examEnd":case"vacation":case"graduation":return e.label;case"industrialTraining":return"IT - ".concat(e.weekNumber);default:return""}}var m=a(9708),u=a(2085),x=a(2596),f=a(9688);function h(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,f.QP)((0,x.$)(t))}let p=(0,u.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),g=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:i=!1,...l}=e,d=i?m.DX:"button";return(0,s.jsx)(d,{className:h(p({variant:r,size:n,className:a})),ref:t,...l})});g.displayName="Button";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:h("rounded-xl border bg-card text-card-foreground shadow",a),...r})});b.displayName="Card";let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:h("flex flex-col space-y-1.5 p-6",a),...r})});y.displayName="CardHeader";let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:h("font-semibold leading-none tracking-tight",a),...r})});v.displayName="CardTitle";let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:h("text-sm text-muted-foreground",a),...r})});j.displayName="CardDescription";let w=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:h("p-6 pt-0",a),...r})});w.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:h("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let N=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:h("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});N.displayName="Input";var k=a(968);let S=(0,u.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(k.b,{ref:t,className:h(S(),a),...r})});C.displayName=k.b.displayName;var W=a(965),D=a(3158),F=a(1610);function E(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(F.hv,{showOutsideDays:r,className:h("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:h(p({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:h("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===n.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:h(p({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(W.A,{className:h("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(D.A,{className:h("h-4 w-4",t),...a})}},...n})}E.displayName="Calendar";var A=a(9601),R=a(5318);let I=A.bL;A.l9;let T=A.ZL;A.bm;let O=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.hJ,{ref:t,className:h("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});O.displayName=A.hJ.displayName;let M=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(T,{children:[(0,s.jsx)(O,{}),(0,s.jsxs)(A.UC,{ref:t,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(A.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});M.displayName=A.UC.displayName;let Y=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:h("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};Y.displayName="DialogHeader";let _=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.hE,{ref:t,className:h("text-lg font-semibold leading-none tracking-tight",a),...r})});_.displayName=A.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.VY,{ref:t,className:h("text-sm text-muted-foreground",a),...r})}).displayName=A.VY.displayName;let U=A.bL,G=A.l9;A.bm;let z=A.ZL,V=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.hJ,{className:h("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});V.displayName=A.hJ.displayName;let P=(0,u.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),q=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:n,...i}=e;return(0,s.jsxs)(z,{children:[(0,s.jsx)(V,{}),(0,s.jsxs)(A.UC,{ref:t,className:h(P({side:a}),r),...i,children:[(0,s.jsxs)(A.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),n]})]})});q.displayName=A.UC.displayName;let L=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:h("flex flex-col space-y-2 text-center sm:text-left",t),...a})};L.displayName="SheetHeader";let X=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.hE,{ref:t,className:h("text-lg font-semibold text-foreground",a),...r})});X.displayName=A.hE.displayName;let B=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.VY,{ref:t,className:h("text-sm text-muted-foreground",a),...r})});B.displayName=A.VY.displayName;let H=e=>{let t=e+1;return[{id:"vavuniya-applied-science",name:"Vavuniya University - Applied Science",description:"Academic calendar based on University of Vavuniya Faculty of Applied Science 2-semester format with industrial training for final year students.",config:{academicYear:"".concat(e,"-").concat(t),faculty:"Faculty of Applied Science",university:"University of Vavuniya",batches:["FAS/".concat(e-4),"FAS/".concat(e-3),"FAS/".concat(e-2),"FAS/".concat(e-1),"FAS/".concat(e)],firstSemester:{startDate:new Date(e,7,15),weeksCount:15,includeOrientation:!0,deadWeeks:1,examWeeks:3,vacationWeeks:3},secondSemester:{startDate:new Date(t,0,15),weeksCount:15,includeOrientation:!1,deadWeeks:1,examWeeks:3,vacationWeeks:3},includeIndustrialTraining:!0,graduationDate:new Date(t,5,15)}},{id:"uk-standard",name:"UK University Standard",description:"Standard UK academic calendar with 3 terms (autumn, spring, summer) and typical exam and break periods.",config:{academicYear:"".concat(e,"-").concat(t),faculty:"Faculty of Science",university:"UK University",batches:["Year ".concat(4),"Year ".concat(3),"Year ".concat(2),"Year ".concat(1)],firstSemester:{startDate:new Date(e,8,21),weeksCount:12,includeOrientation:!0,deadWeeks:1,examWeeks:2,vacationWeeks:3},secondSemester:{startDate:new Date(t,0,10),weeksCount:12,includeOrientation:!1,deadWeeks:1,examWeeks:3,vacationWeeks:12},includeIndustrialTraining:!1,graduationDate:new Date(t,6,15)}},{id:"us-semester",name:"US University - Semester System",description:"Standard US academic calendar with Fall and Spring semesters, plus optional summer session.",config:{academicYear:"".concat(e,"-").concat(t),faculty:"College of Arts & Sciences",university:"US University",batches:["Senior","Junior","Sophomore","Freshman"],firstSemester:{startDate:new Date(e,7,25),weeksCount:15,includeOrientation:!0,deadWeeks:1,examWeeks:1,vacationWeeks:4},secondSemester:{startDate:new Date(t,0,15),weeksCount:15,includeOrientation:!1,deadWeeks:1,examWeeks:1,vacationWeeks:14},includeIndustrialTraining:!1,graduationDate:new Date(t,4,15)}},{id:"australia-standard",name:"Australian University",description:"Australian academic calendar with two main semesters and optional summer/winter terms.",config:{academicYear:"".concat(e,"-").concat(t),faculty:"Faculty of Science",university:"Australian University",batches:["Year ".concat(3),"Year ".concat(2),"Year ".concat(1)],firstSemester:{startDate:new Date(e,1,20),weeksCount:13,includeOrientation:!0,deadWeeks:1,examWeeks:2,vacationWeeks:3},secondSemester:{startDate:new Date(e,6,20),weeksCount:13,includeOrientation:!1,deadWeeks:1,examWeeks:2,vacationWeeks:12},includeIndustrialTraining:!0,graduationDate:new Date(e,11,10)}}]};function J(e){let{onSubmit:t}=e,[a,n]=(0,r.useState)(function(){let e=new Date().getFullYear();return{academicYear:"".concat(e,"-").concat(e+1),faculty:"Faculty of Applied Science",university:"University of Vavuniya",batches:["FAS/".concat(e-4),"FAS/".concat(e-3),"FAS/".concat(e-2),"FAS/".concat(e-1),"FAS/".concat(e)],firstSemester:{startDate:new Date(e,7,15),weeksCount:15,includeOrientation:!0,deadWeeks:1,examWeeks:3,vacationWeeks:3},secondSemester:{startDate:new Date(e+1,0,15),weeksCount:15,includeOrientation:!1,deadWeeks:1,examWeeks:3,vacationWeeks:3},includeIndustrialTraining:!0,graduationDate:new Date(e+1,5,15)}}()),[l,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[j,k]=(0,r.useState)(!1),[S,W]=(0,r.useState)(!0),D=H(new Date().getFullYear()),F=(e,t)=>{n(a=>({...a,[e]:t}))},A=(e,t)=>{n(a=>({...a,firstSemester:{...a.firstSemester,[e]:t}}))},R=(e,t)=>{n(a=>({...a,secondSemester:{...a.secondSemester,[e]:t}}))},T=async()=>{k(!0);try{let e="Generate suggestions for an academic calendar with the following configuration:\n\n      Academic Year: ".concat(a.academicYear,"\n      Faculty: ").concat(a.faculty,"\n      University: ").concat(a.university,"\n\n      First Semester: Starts on ").concat((0,i.GP)(a.firstSemester.startDate,"dd MMMM yyyy"),"\n      First Semester Weeks: ").concat(a.firstSemester.weeksCount,"\n\n      Second Semester Weeks: ").concat(a.secondSemester.weeksCount,"\n\n      Include Industrial Training: ").concat(a.includeIndustrialTraining?"Yes":"No","\n\n      The batches are: ").concat(a.batches.join(", "),"\n\n      Please provide suggestions for:\n      1. Optimal number of dead weeks before exams\n      2. Duration for examination periods\n      3. Vacation period lengths\n      4. When to schedule orientation for new students\n      5. Best time for industrial training\n      6. Ideal graduation date\n      "),t=await fetch("/api/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})}),s=await t.json();s.success?p(s.data):p("Sorry, I was unable to generate suggestions at this time.")}catch(e){console.error("Error getting AI suggestion:",e),p("Error: Unable to connect to AI service.")}finally{k(!1)}},O=e=>{n(e.config),f(!1)};return(0,s.jsxs)(b,{className:"w-full max-w-4xl",children:[(0,s.jsx)(y,{children:(0,s.jsx)(v,{className:"text-2xl font-bold text-center",children:"Academic Calendar Configuration"})}),(0,s.jsxs)(w,{children:[S&&(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-blue-800",children:"Original Calendar Reference"}),(0,s.jsx)("button",{onClick:()=>W(!1),className:"text-blue-700 hover:text-blue-900",children:"✕"})]}),(0,s.jsx)("p",{className:"mt-2",children:"This application is designed to recreate the academic calendar format from the University of Vavuniya's Faculty of Applied Science. Start by configuring your calendar parameters below, then generate to see the full calendar."})]}),(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsxs)(U,{open:x,onOpenChange:f,children:[(0,s.jsx)(G,{asChild:!0,children:(0,s.jsx)(g,{variant:"outline",children:"Load Template"})}),(0,s.jsxs)(q,{children:[(0,s.jsxs)(L,{children:[(0,s.jsx)(X,{children:"Preset Calendar Templates"}),(0,s.jsx)(B,{children:"Choose a template to quickly set up your academic calendar"})]}),(0,s.jsx)("div",{className:"mt-6 space-y-4",children:D.map(e=>(0,s.jsxs)("div",{className:"border p-4 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>O(e),children:[(0,s.jsx)("h3",{className:"font-semibold",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.id))})]})]})}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(a)},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"academicYear",children:"Academic Year"}),(0,s.jsx)(N,{id:"academicYear",value:a.academicYear,onChange:e=>F("academicYear",e.target.value),placeholder:"e.g., 2025-2026",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"faculty",children:"Faculty"}),(0,s.jsx)(N,{id:"faculty",value:a.faculty,onChange:e=>F("faculty",e.target.value),placeholder:"e.g., Faculty of Applied Science",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"university",children:"University"}),(0,s.jsx)(N,{id:"university",value:a.university,onChange:e=>F("university",e.target.value),placeholder:"e.g., University of Vavuniya",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"batches",children:"Batches (comma separated)"}),(0,s.jsx)(N,{id:"batches",value:a.batches.join(", "),onChange:e=>F("batches",e.target.value.split(",").map(e=>e.trim())),placeholder:"e.g., FAS/20, FAS/21, FAS/22, FAS/23",required:!0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"List older batches first (graduating students), followed by newer batches"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"includeIndustrialTraining",checked:a.includeIndustrialTraining,onChange:e=>F("includeIndustrialTraining",e.target.checked),className:"h-4 w-4 text-blue-600"}),(0,s.jsx)(C,{htmlFor:"includeIndustrialTraining",children:"Include Industrial Training"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"graduationDate",children:"Graduation Date"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)(N,{id:"graduationDate",value:a.graduationDate?(0,i.GP)(a.graduationDate,"dd MMMM yyyy"):"",onClick:()=>u(!0),readOnly:!0,placeholder:"Select graduation date"}),(0,s.jsx)(g,{type:"button",variant:"outline",onClick:()=>u(!0),children:"Select"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"border p-4 rounded-lg space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"First Semester"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"firstSemStartDate",children:"Start Date"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)(N,{id:"firstSemStartDate",value:(0,i.GP)(a.firstSemester.startDate,"dd MMMM yyyy"),onClick:()=>d(!0),readOnly:!0,placeholder:"Select first semester start date",required:!0}),(0,s.jsx)(g,{type:"button",variant:"outline",onClick:()=>d(!0),children:"Select"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"firstSemWeeks",children:"Number of Weeks"}),(0,s.jsx)(N,{id:"firstSemWeeks",type:"number",min:"1",max:"30",value:a.firstSemester.weeksCount,onChange:e=>A("weeksCount",parseInt(e.target.value)),required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"firstSemDeadWeeks",children:"Dead Weeks"}),(0,s.jsx)(N,{id:"firstSemDeadWeeks",type:"number",min:"0",max:"4",value:a.firstSemester.deadWeeks,onChange:e=>A("deadWeeks",parseInt(e.target.value)),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"firstSemExamWeeks",children:"Exam Weeks"}),(0,s.jsx)(N,{id:"firstSemExamWeeks",type:"number",min:"1",max:"6",value:a.firstSemester.examWeeks,onChange:e=>A("examWeeks",parseInt(e.target.value)),required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"firstSemVacationWeeks",children:"Vacation Weeks"}),(0,s.jsx)(N,{id:"firstSemVacationWeeks",type:"number",min:"0",max:"8",value:a.firstSemester.vacationWeeks,onChange:e=>A("vacationWeeks",parseInt(e.target.value)),required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"firstSemOrientation",checked:a.firstSemester.includeOrientation,onChange:e=>A("includeOrientation",e.target.checked),className:"h-4 w-4 text-blue-600"}),(0,s.jsx)(C,{htmlFor:"firstSemOrientation",children:"Include Orientation"})]})]}),(0,s.jsxs)("div",{className:"border p-4 rounded-lg space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Second Semester"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"secondSemWeeks",children:"Number of Weeks"}),(0,s.jsx)(N,{id:"secondSemWeeks",type:"number",min:"1",max:"30",value:a.secondSemester.weeksCount,onChange:e=>R("weeksCount",parseInt(e.target.value)),required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"secondSemDeadWeeks",children:"Dead Weeks"}),(0,s.jsx)(N,{id:"secondSemDeadWeeks",type:"number",min:"0",max:"4",value:a.secondSemester.deadWeeks,onChange:e=>R("deadWeeks",parseInt(e.target.value)),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"secondSemExamWeeks",children:"Exam Weeks"}),(0,s.jsx)(N,{id:"secondSemExamWeeks",type:"number",min:"1",max:"6",value:a.secondSemester.examWeeks,onChange:e=>R("examWeeks",parseInt(e.target.value)),required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(C,{htmlFor:"secondSemVacationWeeks",children:"Vacation Weeks"}),(0,s.jsx)(N,{id:"secondSemVacationWeeks",type:"number",min:"0",max:"8",value:a.secondSemester.vacationWeeks,onChange:e=>R("vacationWeeks",parseInt(e.target.value)),required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"secondSemOrientation",checked:a.secondSemester.includeOrientation,onChange:e=>R("includeOrientation",e.target.checked),className:"h-4 w-4 text-blue-600"}),(0,s.jsx)(C,{htmlFor:"secondSemOrientation",children:"Include Orientation"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[(0,s.jsx)(g,{type:"button",variant:"outline",onClick:T,disabled:j,className:"flex-1",children:j?"Getting AI Suggestions...":"Get AI Suggestions"}),(0,s.jsx)(g,{type:"submit",className:"flex-1",children:"Generate Calendar"})]})]}),h&&(0,s.jsxs)("div",{className:"mt-6 p-4 border rounded-lg bg-blue-50",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"AI Suggestions"}),(0,s.jsx)("button",{onClick:()=>p(null),className:"text-blue-700 hover:text-blue-900",children:"✕"})]}),(0,s.jsx)("div",{className:"whitespace-pre-line text-sm",children:h})]})]}),(0,s.jsx)(I,{open:l,onOpenChange:d,children:(0,s.jsxs)(M,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(Y,{children:(0,s.jsx)(_,{children:"Select First Semester Start Date"})}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)(E,{mode:"single",selected:a.firstSemester.startDate,onSelect:e=>{e&&(A("startDate",e),d(!1))},className:"rounded-md border"})})]})}),(0,s.jsx)(I,{open:o,onOpenChange:c,children:(0,s.jsxs)(M,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(Y,{children:(0,s.jsx)(_,{children:"Select Second Semester Start Date"})}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)(E,{mode:"single",selected:a.secondSemester.startDate,onSelect:e=>{e&&(R("startDate",e),c(!1))},className:"rounded-md border"})})]})}),(0,s.jsx)(I,{open:m,onOpenChange:u,children:(0,s.jsxs)(M,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(Y,{children:(0,s.jsx)(_,{children:"Select Graduation Date"})}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)(E,{mode:"single",selected:a.graduationDate||void 0,onSelect:e=>{e&&F("graduationDate",e),u(!1)},className:"rounded-md border"})})]})})]})}let K=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:h("w-full caption-bottom text-sm",a),...r})})});K.displayName="Table";let Q=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:h("[&_tr]:border-b",a),...r})});Q.displayName="TableHeader";let Z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:h("[&_tr:last-child]:border-0",a),...r})});Z.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:h("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let $=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:h("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});$.displayName="TableRow";let ee=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:h("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...r})});ee.displayName="TableHead";let et=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:h("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...r})});et.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:h("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption";var ea=a(6575),es=a.n(ea),er=a(1540);async function en(e,t){let a=new(es()).Workbook,s=a.addWorksheet("Academic Calendar");s.columns=[{header:"",width:4},{header:"Year",width:10},{header:"Start Date",width:12},{header:"End Date",width:12},{header:"",width:4},{header:"Week",width:8},{header:"",width:4},{header:"",width:4},...t.batches.map(e=>({header:e,width:15}))];let r=s.addRow(["",""]);r.height=20,r.getCell(2).value="ACADEMIC CALENDAR FOR THE YEAR ".concat(t.academicYear," - ").concat(t.faculty,", ").concat(t.university),s.mergeCells(1,2,1,8+t.batches.length);let n=r.getCell(2);n.font={bold:!0,size:12},n.alignment={horizontal:"center",vertical:"middle"},s.addRow([]);let l=s.addRow(["","Year / Dates","","","","Week","",""]);t.batches.forEach((e,t)=>{l.getCell(9+t).value=e}),l.height=20,l.eachCell((e,t)=>{e.value&&(e.font={bold:!0,size:10},e.alignment={horizontal:"center",vertical:"middle"},e.border={top:{style:"thick"},left:{style:"thin"},bottom:{style:"thick"},right:{style:"thick"}})}),s.mergeCells(4,2,4,4),s.addRow([]),e.forEach((e,a)=>{let r=(0,i.GP)(e.startDate,"yyyy"),n=(0,i.GP)(e.startDate,"dd-MMM"),l=(0,i.GP)(e.endDate,"dd-MMM"),m=s.addRow(["",r,n,l,"",e.weekNumber.toString(),"",""]);t.batches.forEach((t,a)=>{let s=e.status[t],r=c(s),n=m.getCell(9+a);n.value=r,n.fill={type:"pattern",pattern:"solid",fgColor:{argb:d(s).replace("#","")}},n.font={color:{argb:o(s).replace("#","")},size:10},n.alignment={horizontal:"center",vertical:"middle"},n.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),m.height=18;let u=m.getCell(2),x=m.getCell(3);[u,x,m.getCell(4),m.getCell(6)].forEach(e=>{e.font={size:10},e.alignment={horizontal:"center",vertical:"middle"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),s.addRow([]),s.addRow([]),s.addRow(["","Legend:"]).getCell(2).font={bold:!0,size:10},s.addRow(["","DW",":","Dead Week"]),s.addRow(["","EX",":","End Semester Examination"]),s.addRow(["","Vaca",":","Vacation"]),s.addRow(["","IT",":","Industrial Training"]),s.addRow(["","EX-END",":","Final Exam Ending Week"]);for(let e=0;e<5;e++){let t=s.getRow(s.rowCount-e);t.getCell(2).font={bold:!0,size:9},t.getCell(3).alignment={horizontal:"center"},t.getCell(4).font={size:9}}let m=new Blob([await a.xlsx.writeBuffer()],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,er.saveAs)(m,"Academic_Calendar_".concat(t.academicYear,".xlsx"))}function ei(e){let{calendarWeeks:t,config:a,onNewCalendar:n}=e,[l,m]=(0,r.useState)(52),u=async()=>{try{await en(t,a)}catch(e){console.error("Error exporting to Excel:",e),alert("Failed to export calendar. Please try again.")}};t.slice(0,26),t.slice(26,52);let x=t.slice(0,l);return(0,s.jsx)("div",{className:"w-full space-y-6",children:(0,s.jsxs)(b,{className:"border-blue-200",children:[(0,s.jsxs)(y,{className:"pb-2",children:[(0,s.jsxs)(v,{className:"text-2xl font-bold text-center",children:["Academic Calendar for ",a.academicYear]}),(0,s.jsxs)(j,{className:"text-center",children:[a.faculty,", ",a.university]})]}),(0,s.jsxs)(w,{children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"text-sm flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Show weeks:"}),(0,s.jsxs)("select",{value:l,onChange:e=>m(parseInt(e.target.value)),className:"border rounded px-2 py-1 text-sm",children:[(0,s.jsx)("option",{value:"13",children:"First Quarter"}),(0,s.jsx)("option",{value:"26",children:"First Semester"}),(0,s.jsx)("option",{value:"39",children:"Third Quarter"}),(0,s.jsx)("option",{value:"52",children:"Full Year"})]})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Total Weeks:"})," ",t.length]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(g,{onClick:n,variant:"outline",size:"sm",children:"Create New Calendar"}),(0,s.jsx)(g,{onClick:u,size:"sm",children:"Export to Excel"})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,s.jsxs)(K,{className:"border-collapse",children:[(0,s.jsx)(Q,{children:(0,s.jsxs)($,{className:"bg-gray-100",children:[(0,s.jsx)(ee,{className:"w-24 font-bold border text-center",children:"Year"}),(0,s.jsx)(ee,{className:"w-32 font-bold border text-center",children:"Dates"}),(0,s.jsx)(ee,{className:"w-20 font-bold border text-center",children:"Week"}),a.batches.map((e,t)=>(0,s.jsx)(ee,{className:"w-28 font-bold border text-center",children:e},t))]})}),(0,s.jsx)(Z,{children:x.map((e,t)=>(0,s.jsxs)($,{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,s.jsx)(et,{className:"border text-center font-medium text-sm py-2",children:(0,i.GP)(e.startDate,"yyyy")}),(0,s.jsxs)(et,{className:"border text-center text-sm py-2",children:[(0,i.GP)(e.startDate,"d-MMM")," to ",(0,i.GP)(e.endDate,"d-MMM")]}),(0,s.jsx)(et,{className:"border text-center font-medium text-sm py-2",children:e.weekNumber}),a.batches.map((t,a)=>{let r=e.status[t],n=c(r),i=d(r),l=o(r);return(0,s.jsx)(et,{className:"border text-center text-sm py-1 px-1",style:{backgroundColor:i,color:l,fontWeight:"normal"},children:n},a)})]},t))})]})}),(0,s.jsxs)("div",{className:"mt-6 px-2",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-3",children:"Legend"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Lecture",color:"#ffffff"},{label:"Orientation Program",color:"#ffff00"},{label:"Dead Week",color:"#ff6600"},{label:"End Semester Examination",color:"#3366ff"},{label:"Final Exam Ending Week",color:"#ff0000"},{label:"Vacation",color:"#ccffcc"},{label:"Industrial Training",color:"#b2a1c7"},{label:"Graduation",color:"#ff00ff"}].map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[(0,s.jsx)("div",{className:"w-5 h-5 mr-2 border border-gray-300",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{children:e.label})]},t))})]}),(0,s.jsx)("div",{className:"mt-6 text-sm text-gray-500 text-center",children:(0,s.jsxs)("p",{children:["This calendar was generated on ",(0,i.GP)(new Date,"dd MMMM yyyy")," using the Academic Calendar Generator."]})})]})]})})}function el(){let e=new Date().getFullYear();return(0,s.jsx)("footer",{className:"w-full py-4 mt-8 border-t",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["\xa9 ",e," Academic Calendar Generator. All rights reserved."]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[(0,s.jsx)("a",{href:"#",className:"text-sm text-gray-500 hover:text-blue-600",onClick:e=>{e.preventDefault(),window.open("https://github.com","_blank")},children:"GitHub"}),(0,s.jsx)("a",{href:"#",className:"text-sm text-gray-500 hover:text-blue-600",onClick:e=>{e.preventDefault(),window.open("https://nextjs.org","_blank")},children:"Built with Next.js"}),(0,s.jsx)("a",{href:"#",className:"text-sm text-gray-500 hover:text-blue-600",onClick:e=>{e.preventDefault(),window.open("https://ui.shadcn.com","_blank")},children:"UI by shadcn/ui"})]})]})})})}function ed(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:h("animate-pulse rounded-md bg-primary/10",t),...a})}var eo=a(6671);function ec(){let[e,t]=(0,r.useState)(null),[a,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1);return(0,s.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-4 md:p-12",children:[(0,s.jsxs)("div",{className:"w-full max-w-7xl mx-auto mb-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Academic Calendar Generator"}),(0,s.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Create detailed academic calendars for your institution by entering the semester start date and number of weeks. Generate calendars for different years and faculties."})]}),o?(0,s.jsxs)("div",{className:"space-y-4 w-full",children:[(0,s.jsx)(ed,{className:"h-12 w-full"}),(0,s.jsx)(ed,{className:"h-96 w-full"})]}):e&&a?(0,s.jsx)(ei,{calendarWeeks:e,config:a,onNewCalendar:()=>{t(null),d(null)}}):(0,s.jsx)(J,{onSubmit:e=>{c(!0);try{let a=function(e){let t=[],a=e.firstSemester.startDate;for(let s=1;s<=52;s++){let r=a,d=(0,n.f)(r,4),o={weekNumber:s,startDate:r,endDate:d,label:"".concat((0,i.GP)(r,"d-MMM")," to ").concat((0,i.GP)(d,"d-MMM")),status:{}};for(let t of e.batches)o.status[t]=function(e,t,a,s){let r=a.firstSemester,i=a.secondSemester,l=r.weeksCount+r.deadWeeks+r.examWeeks+r.vacationWeeks;if(e<=r.weeksCount)return{type:"lecture",semesterNumber:1,weekNumber:e};if(e>r.weeksCount&&e<=r.weeksCount+r.deadWeeks)return{type:"deadWeek",label:"DW"};if(e>r.weeksCount+r.deadWeeks&&e<=r.weeksCount+r.deadWeeks+r.examWeeks)return{type:"exam",label:"EX"};if(e===r.weeksCount+r.deadWeeks+r.examWeeks)return s===a.batches[0]?{type:"examEnd",label:"EX-END"}:{type:"exam",label:"EX"};if(e>r.weeksCount+r.deadWeeks+r.examWeeks&&e<=l)return{type:"vacation",label:"Vaca."};let d=l+1;if(e===d&&s===a.batches[a.batches.length-1]&&i.includeOrientation)return{type:"orientation"};let o=d+i.weeksCount-1;if(e>=d&&e<=o)return s===a.batches[0]&&a.includeIndustrialTraining?{type:"industrialTraining",label:"IT",weekNumber:e-d+1}:{type:"lecture",semesterNumber:2,weekNumber:e-d+1};let c=o+i.deadWeeks;if(e>o&&e<=c)return{type:"deadWeek",label:"DW"};let m=c+i.examWeeks;return e>c&&e<=m?{type:"exam",label:"EX"}:e===m?s===a.batches[0]?{type:"examEnd",label:"EX-END"}:{type:"exam",label:"EX"}:a.graduationDate&&s===a.batches[0]&&t<=a.graduationDate&&a.graduationDate<=(0,n.f)(t,6)?{type:"graduation",label:"Graduation"}:{type:"vacation",label:"Vaca."}}(s,r,e,t);t.push(o),a=(0,l.J)(a,1)}return t}(e);t(a),d(e)}catch(e){console.error("Error generating calendar:",e),alert("Failed to generate calendar. Please check your inputs and try again.")}finally{c(!1)}}})]}),(0,s.jsx)(el,{}),(0,s.jsx)(eo.l$,{position:"bottom-right"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[343,684,441,303,358],()=>t(4739)),_N_E=e.O()}]);